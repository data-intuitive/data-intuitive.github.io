<!DOCTYPE html>
<html>
<!--
====================================================
    __  ____  ______________  _______ ___    __ 
   / / / /  |/  / ____/   \ \/ / ___//   |  / / 
  / /_/ / /|_/ / /_  / /| |\  /\__ \/ /| | / /  
 / __  / /  / / __/ / ___ |/ /___/ / ___ |/ /___
/_/ /_/_/  /_/_/   /_/  |_/_//____/_/  |_/_____/
                                                     
====================================================
Author: Hossain Mohammad Faysal
Profile: https://www.facebook.com/hmfaysal
Version: 1.0
Description: Awesome dude, awesome life
====================================================
-->
<head>
<meta charset="utf-8">
<title>PERFORMANCE MONITORING: AVERAGES AND PEAKS &vert; DATA INTUITIVE</title>
<meta name="description" content="Data where applicable, Intuition where needed">
<meta name="keywords" content="Capacity, Monitoring, Performance">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/logo_white.png">
<meta name="twitter:title" content="Performance Monitoring: Averages and Peaks">
<meta name="twitter:description" content="Data where applicable, Intuition where needed">
<meta name="twitter:creator" content="@tverbeiren">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Performance Monitoring: Averages and Peaks">
<meta property="og:description" content="Data where applicable, Intuition where needed">
<meta property="og:url" content="/2007/12/14/performance-monitoring-averages-and-peaks/">
<meta property="og:site_name" content="Data Intuitive">
<meta property="og:image" content="/images/graan-2-small.png">





<link rel="canonical" href="/2007/12/14/performance-monitoring-averages-and-peaks/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Data Intuitive Feed">
<link rel="author" href="https://plus.google.com/u/0/108837720006806497269?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />


    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700|Open+Sans:400,600,300,800,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/assets/css/vendor/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/css/vendor/normalize.css">
    <link rel="stylesheet" href="/assets/css/vendor/nprogress.css">
    <link rel="stylesheet" href="/assets/css/vendor/foundation.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/post.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">





<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


</head>
<body class="post-template" itemscope itemtype="http://schema.org/WebPage">  

        <main id="notepad-post-container-simple" class="notepad-post-container-simple" role="main">
            <header class="notepad-post-header-simple">
                <div class="notepad-post-menu-header-simple">

                    <a class="notepad-blog-logo" href="">
                        <img src="/images/logo_white.png" alt="Blog Logo" />
                    </a>

                <div class="notepad-blog-menu">      
    <div class="notepad-mobile-menu show-for-small">
        <a href="#"><i class="fa fa-bars"></i></a>
    </div>
    <ul class="notepad-menu">
        <li class="notepad-mobile-close-btn show-for-small text-right">
            <a href="#"><i class="fa fa-times"></i></a>
        </li>

            <li>
                    <a href="/">Home</a>
                 </li>

            <li>
                    <a href="/categories">Categories</a>
                 </li>

            <li>
                    <a href="/about">About</a>
                 </li>
            
           <li><a href="/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
    </ul>

</div>
            </div>

                <div class="notepad-post-title-simple row">
                    <div class="small-12 columns">
                        <div class="notepad-post-meta-simple">
                            <h1>Performance Monitoring: Averages and Peaks</h1>
                            <p>by <strong>Toni Verbeiren</strong> &#8212; on <a href="/tags/index.html#Capacity" data-toggle="tooltip" title="Posts tagged with Capacity" rel="tag">Capacity</a>&nbsp;&comma;&nbsp;<a href="/tags/index.html#Monitoring" data-toggle="tooltip" title="Posts tagged with Monitoring" rel="tag">Monitoring</a>&nbsp;&comma;&nbsp;<a href="/tags/index.html#Performance" data-toggle="tooltip" title="Posts tagged with Performance" rel="tag">Performance</a> <strong><time datetime="2007-12-14T17:22:00+01:00">14 Dec 2007</time></strong></p>
                        </div>
                    </div>
                </div>
            </header>

        <article class="notepad-post-content post tag-simple">
            <div><p>Now that we are into the topic of performance (of capacity) monitoring and planning, let us continue with something that has kept me busy the last couple of days: averages of performance data (and other statistical information) versus peaks.  </p>

<p>This goes back to a classic textbook example in statistics, where the mean value of a series of data points is completely irrelevant as a representation of the data points itself. Let us consider the following example.  Given a series of data like in the table below:  </p>

<blockquote>  
  X     Y  
  A     1  
  B     2  
  C     4  
  D     7  
  E     100  
  F     4  
  G     9  
  H     7  
  I     3  
  J     5  
</blockquote>

<p>These may, for instance, represent scores (0-100) given to students (by a very strange teacher).  In a graph, this is presented below:  </p>

<p><a href="http://bp1.blogger.com/_BQpPXr1uJkU/R2KgD3gKdLI/AAAAAAAABXk/m_ET5w6qC1w/s1600-h/Table-data.jpg"><img src="http://bp1.blogger.com/_BQpPXr1uJkU/R2KgD3gKdLI/AAAAAAAABXk/m_ET5w6qC1w/s320/Table-data.jpg" alt=""></a>  </p>

<p>The red line represents the average value. It is clear that everyone (except the teacher&#39;s little friend with 100 points) is below the average. As a consequence, the average is not a good representation of the data as a whole. Some say it is too much influenced by the extreme values. In fact, this average (sum of the data values divided by the total amount of data points) is called the arithmetic mean. There is another notion of &#39;an average&#39; which is called &#39;geometric mean&#39;. In the example above, the value of it would be 5.4 which is much more relevant. The median would even better define the data set, but that would lead us too far.  </p>

<p>Basically, the fact that the arithmetic mean does not give a good indication of the data set is caused by the large spread of the data. In statistics, there is another indicator for this: the variance, or standard deviation. It is a measure for how close or far apart the values are.  In the example above, the standard deviation. In our example above, it would read 30.2. Suppose the value of E would be 10 instead of 100, the standard deviation becomes 3. In others words, the lower is the standard deviation, the more the data is &#39;close&#39;.  </p>

<p>The above brings me back to performance monitoring. Somehow, I want to summarize the performance data of a server by a small set of indicators (averages of time etc.) that give a reasonable picture of the actual performance or in other words: that are representable for the system&#39;s actual performance. Typically, when looking at the percentage a CPU is used over time, we see fluctuations that are similar to the figure above (don&#39;t believe me, below is an actual example of a system with some high peaks and further sitting idle for most of the time - this server has 4 cores by the way). We conclude that, therefore, it does not make much sense to look at simple averages of the performance counters in order to get an idea of the behavior of the system..  </p>

<p><a href="http://bp1.blogger.com/_BQpPXr1uJkU/R2KgS3gKdMI/AAAAAAAABXs/tnoBw8RDtlA/s1600-h/CPU-fluctuations.jpg"><img src="http://bp1.blogger.com/_BQpPXr1uJkU/R2KgS3gKdMI/AAAAAAAABXs/tnoBw8RDtlA/s320/CPU-fluctuations.jpg" alt=""></a>  </p>

<p>Coming back to VMware Capacity Planner: the tool keeps track of the average value (yes, the simple average that does not say much) but also internally uses the geometric mean but not the variance (as far as I can tell). From this perspective, the whole performance gathering using this tool would be worthless. Luckily, it also keeps track of peak values (and calculates averages over these peaks but that is another story). Comparing the peak values with the average tells us a lot about the spread of the data points. The system behind the graph above, has an average CPU value of less than 20% while the peak CPU utilization is higher than 90%! This tells us that the variance/spreading in data points is large.  </p>

<p>In a virtualization/consolidation assessment, these cases have to be taken into account, as we do not want our systems to become unresponsive because they have their peaks at the same time. More about this and other topics later...</p>

            </div>
        </article>
        <div class="cf"></div>

        <div class="cf"></div>
        
            <div class="notepad-author-info">
                <div class="row">
                    <section class="notepad-post-author small-12 columns">
                        
                            <img src="/images/toni1.png" class="notepad-post-author-avatar" alt="Toni Verbeiren's photo">
                        
                        
                            <span class="author-label">Author</span>
                            <h1>Toni Verbeiren</h1>
                        
                        
                            <p><a href="mailto:" class="author-website"></a></p>
                        
                        
                            <p></p>
                        
                    </section>
                </div>
            </div> 
        
        <div class="cf"></div>
        
        <div class="cf"></div>

    <footer class="notepad-site-footer">
    <div class="copyright">
         <section>All content copyright <a href="/about">Toni Verbeiren</a> &copy; 2015 &bull; All rights reserved.</section>
         <section>Proudly published with <a class="icon-ghost" href="https://jekyllrb.com/">Jekyll</a></section>
    </div>
    <div class="social-icons">
        
        
        <a href="http://twitter.com/tverbeiren">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-twitter fa-stack-1x"></i>
            </span>
        </a>
        
        
        <a href="https://plus.google.com/u/0/108837720006806497269">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-google-plus fa-stack-1x"></i>
            </span>
        </a>
        
        
        
        <a href="http://github.com/tverbeiren">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                <i class="fa fa-github fa-stack-1x"></i>
            </span>
        </a>
        
        
    </div>
    
    <div class="cf"></div>
</footer> 
</main>    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.11.1.min.js"><\/script>')</script>
    <script src="/assets/js/vendor/modernizr.js"></script>
    <script src="/assets/js/foundation.min.js"></script>
    
    <script src="/assets/js/notepad.js"></script>
    <script src="/assets/js/scripts.min.js"></script>
    <script src="/assets/js/vendor/nprogress.js"></script>

    <script>
      $(document).foundation();
    </script>
    <script type='text/javascript'>console.log("HMFaysal Notepad Theme Version 2.0");</script>
    <script type='text/javascript'>console.log("https://alum.mit.edu/www/hmfaysal");</script>


<script>NProgress.start();var interval=setInterval(function(){NProgress.inc()},1000);jQuery(window).load(function(){clearInterval(interval);NProgress.done()});jQuery(window).unload(function(){NProgress.start()});</script> 
</body>
</html>
